(function($){"use strict";window.getCity=function(city,region,id){if(city==="Odesa"||city==="Odessa"||region==="Odes'ka Oblast'"||id===2){changeCity("Odessa")}else if(city==="Lviv"||region==="L'vivs'ka Oblast'"||id===3){changeCity("Lviv")}else if(city==="Vinnytsia"||city==="Vinnitsa"||region==="Vinnyts'ka Oblast'"||id===4){changeCity("Vinnitsa")}else if(city==="Ternopil"||region==="Ternopil's'ka Oblast'"||id===5){changeCity("Ternopil")}else if(city==="Zaporizhia"||city==="Zaporozhye"||region==="Zaporiz'ka Oblast'"||id===6){changeCity("Zaporozhye")}else if(city==="Kharkiv"||city==="Kharkov"||region==="Kharkivs'ka Oblast'"||id===7){changeCity("Kharkov")}else if(city==="Mykolayiv"||city==="Nikolaev"||region==="Mykolayivs'ka Oblast'"||id===8){changeCity("Nikolaev")}else if(city==="Kherson"||region==="Khersons'ka Oblast'"||id===9){changeCity("Kherson")}else if(city==="Online"){changeCity("Online",!0)}else{changeCity("Kiev")}};window.changeCity=function(city,courseOnline){setCookie("ClientCity",city,365);course=window.course;if(course!="unknown"&&course!=""){var data={action:'my_action',security:KotyrloGroupStartsAjax.security,city:city,course:course,online:courseOnline};$.post(KotyrloGroupStartsAjax.ajaxurl,data,function(response){if(response!="0"){var resultQuery=JSON.parse(response);$(".block-start .item-cert").html(resultQuery.cert);$(".block-start .item-start").html(resultQuery.start);$(".block-study .item-date").html(resultQuery.study_start);$(".header-top .phones > a, .mobile-menu .phones > a").remove();$(".header-top .phones > .tel > a, .mobile-menu .phones > .tel > a").remove();$(".header-top .phones, .mobile-menu .phones").prepend(resultQuery.phones.base);$(".header-top .phones > .tel, .mobile-menu .phones > .tel").prepend(resultQuery.phones.add);$(".location .loc-dyn-city, .location .your-city").html(resultQuery.city);$(".block-study .study-old").html(resultQuery.study_old);$(".block-study .study-new").html(resultQuery.study_new);$(".block-study .study-price").html(resultQuery.study_price);$(".block-study .item-timetable").html(resultQuery.study_timetable);$("#change-info").html(resultQuery.contacts);$(".study-lasting").html(resultQuery.lasting);$(".study-hours").html(resultQuery.hours);$(".study-days").html(resultQuery.days);var $cur_lang=$('html').attr('lang');var ru='ru-RU';var ua='ua-UA';var level_text_ru='Уровень: ';var level_text_ua='Рівень: ';var level_text='';if($cur_lang===ru){level_text=level_text_ru}
if($cur_lang===ua){level_text=level_text_ua}
if(resultQuery.level){$(".study-level").html(level_text+'<strong>'+resultQuery.level+'</strong>')}
var start_text_ru='Старт: ';var start_text_ua='Початок: ';var start_text='';if($cur_lang===ru){start_text=start_text_ru}
if($cur_lang===ua){start_text=start_text_ua}
if(resultQuery.start){$(".study-start").html(start_text+'<span>'+resultQuery.start+'</span>')}
var base_price_text_ru='Цена: ';var base_price_text_ua='Ціна: ';var base_price_text='';if($cur_lang===ru){base_price_text=base_price_text_ru}
if($cur_lang===ua){base_price_text=base_price_text_ua}
if(resultQuery.study_price.length>0){var study_price_wrap_grb=resultQuery.study_price.replace('грн','<span>грн</span>');$(".study-base-price").html(base_price_text+'<span>'+study_price_wrap_grb+'</span>')}else{$(".study-base-price").html('')}
if(resultQuery.study_price_parts.length>0){let splitText=$cur_lang===ru?'платежа':'платежі';let qty=resultQuery.study_price_qty;let seconColumnEsists=$(".table_price_info .row_table_price_info th:nth-child(2)").length;if(seconColumnEsists){$(".table_price_info .row_table_price_info th:nth-child(2)").html(qty+' '+splitText);$(".table_price_info .row_table_price_base td:nth-child(2)").html(resultQuery.study_price_parts)}else{$(".table_price_info .row_table_price_info").append('<th class="reg_form_amount_pay_title">'+qty+' '+splitText+'</th>');$(".table_price_info .row_table_price_base").append('<td class="reg_form_amount_pay_val">'+resultQuery.study_price_parts+'</td>')}}else{$(".table_price_info .row_table_price_info th:nth-child(2)").remove();$(".table_price_info .row_table_price_base td:nth-child(2)").remove()}
if(resultQuery.start.indexOf('план')==1){$(".study-short-timetable").html()}else{$(".study-short-timetable").html(resultQuery.short_timetable)}
var promo_price_text_ru='Акционная цена ';var promo_price_text_ua='Акційна ціна ';var promo_price_text='';if($cur_lang===ru){promo_price_text=promo_price_text_ru}
if($cur_lang===ua){promo_price_text=promo_price_text_ua}
if(resultQuery.study_promo){$(".study-promo").show();var study_promo_wrap_grb=resultQuery.study_promo.replace('грн','<span>грн</span>');$(".study-promo").html(promo_price_text+'<span>'+study_promo_wrap_grb+'</span>')}
var fire_date_text_ru='действует до ';var fire_date_text_ua='дійсний до ';var fire_date_text='';if($cur_lang===ru){fire_date_text=fire_date_text_ru}
if($cur_lang===ua){fire_date_text=fire_date_text_ua}
if(resultQuery.study_promo.length>0){$('.study-base-price').addClass('study_promo_price');$('.study-base-price').html(base_price_text+'<span>'+resultQuery.study_price+'</span>');$('.study-promo-fire').show();$('.study-promo-fire').html(fire_date_text+resultQuery.promo_fire)}else{$('.study-promo').html();$('.study-promo-fire').html()}
if(resultQuery.city.toLowerCase()=='online'){$('.meta_course_info_offline').hide();$('.meta_course_info_online').show()}else{$('.meta_course_info_online').hide();$('.meta_course_info_offline').show()}
if(resultQuery.start||resultQuery.short_timetable){var table_timetable='';var short_timetable_number_split=resultQuery.short_timetable.split(/^\D+\s/);var short_timetable_to_string=''+short_timetable_number_split+'';var short_timetable_semikolon_replace=short_timetable_to_string.replace(',','');var short_timetable_number_wrap=resultQuery.short_timetable.replace(short_timetable_semikolon_replace,'<span>'+short_timetable_semikolon_replace+'</span>');table_timetable='<span class="course-info__top-row-key ci-ico-1">Старт:</span>'+'<span class="course-info__top-row-value"><span class="td_reg_course_start_date">'+resultQuery.start+''+'</span><br><span class="td_reg_course_start_timetable">'+short_timetable_number_wrap+'</span>'+'</span>';$('.reg-course-start').html(table_timetable)}
if(resultQuery.study_promo.length>0){$('.table-price-base').addClass('table-price-promo');$('.table-price-old').html('<strike>'+resultQuery.study_price+'</strike>');$('.table-price-base').html(resultQuery.study_promo+'<span> *</span>');$('.table-price-details').html('<span>*</span>'+fire_date_text+resultQuery.promo_fire)}else{$('.table-price-base').removeClass('table-price-promo');$('.table-price-base').html(resultQuery.study_price)}
if(resultQuery.city){let city_text=($cur_lang===ua)?'м. ':'г. ';let current_city=resultQuery.city;if(resultQuery.city=='Online'){current_city=($cur_lang===ua)?'Київ':'Киев'}
$('.location-city').show();$('.location-city').html(city_text+current_city)}
if(resultQuery.address){var list_address='';$('.location-adress').show();if(Array.isArray(resultQuery.address)){for(var i in resultQuery.address){list_address=list_address+'<li>'+resultQuery.address[i]+'</li>'}}else{list_address=list_address+'<li>'+resultQuery.address+'</li>'}
$('.location-adress').html('<ul>'+list_address+'</ul>')}
if(resultQuery.phones){var list_phones='';$('.phone-list').show();for(var j in resultQuery.phones){list_phones=list_phones+'<li>'+resultQuery.phones[j]+'</li>'}
$('.phone-list').html('<ul>'+list_phones+'</ul>')}
if(resultQuery.email!=='null'){$('.email-list').show();$('.email-list').html('<a href="mailto:'+resultQuery.email+'">'+resultQuery.email+'</a>')}
if((resultQuery.facebook!=='null')||(resultQuery.instagram!=='null')||(resultQuery.youtube!=='null')||(resultQuery.linkedin!=='null')){var list_social='';$('.social-list').show();if(resultQuery.facebook){list_social=list_social+''+'<li class="city_social_item city_social_item_facebook">'+'<a href="'+resultQuery.facebook+'" target="_blank"><i class="fa fa-facebook"></i></a>'+'</li>'}
if(resultQuery.instagram){list_social=list_social+''+'<li class="city_social_item city_social_item_instagram">'+'<a href="'+resultQuery.instagram+'" target="_blank"><i class="fa fa-instagram"></i></a>'+'</li>'}
if(resultQuery.youtube){list_social=list_social+''+'<li class="city_social_item city_social_item_youtube">'+'<a href="'+resultQuery.youtube+'" target="_blank"><i class="fa fa-youtube-play" aria-hidden="true"></i></a>'+'</li>'}
if(resultQuery.linkedin){list_social=list_social+''+'<li class="city_social_item city_social_item_linkedin">'+'<a href="'+resultQuery.linkedin+'" target="_blank"><i class="fa fa-linkedin"></i></a>'+'</li>'}
$('.social-list').html('<ul>'+list_social+'</ul>')}
if(resultQuery.course_name){$('.reg-form-course-name').show();$('.reg-form-course-name').html(resultQuery.course_name)}
$("[name='specialty']").val(resultQuery.specialty);$("[name='group']").val(resultQuery.group);$("[name='city']").val(resultQuery.city_id);$("[name='webinar']").val(resultQuery.webinar_room)}})}};function is_category(name){var categories=['main','courses','english','blog','career'];if(categories.indexOf(name)>=0){var path_parts=location.pathname.split('/');if(((path_parts.length==3&&path_parts[1]=='ua')||(path_parts.length==2&&path_parts[0]==path_parts[1]))&&name=='main'){return!0}
if(((path_parts.length>3&&path_parts.indexOf('courses')>=0)||(path_parts.length>4&&path_parts.indexOf('kursi')>=0))&&name=='courses'){return!0}
if((path_parts.indexOf('english-kurs')>=0)&&name=='english'){return!0}
if((path_parts.indexOf('bloh')>=0)&&name=='blog'){return!0}
if((path_parts.indexOf('career')>=0)&&name=='career'){return!0}}
return!1}
$('.cities > a, .loc-city a, #choose-city a').on("click",function(e){e.preventDefault();let thisCity=$(this).data("city");if(is_category('courses')){getCity(thisCity)}
if(!is_category('courses')){setCookie("ClientCity",thisCity,365);$.ajax({type:'POST',url:KotyrloGroupStartsAjax.ajaxurl,data:'city='+thisCity+'&action=get_phones',success:function(data){var phones=JSON.parse(data);$(".header-top .phones > a, .mobile-menu .phones > a").remove();$(".header-top .phones > .tel > a, .mobile-menu .phones > .tel > a").remove();$(".header-top .phones, .mobile-menu .phones").prepend(phones.phones.base);$(".header-top .phones > .tel, .mobile-menu .phones > .tel").prepend(phones.phones.add)}});if(is_category('main')){let tempCity=thisCity=='Online'?'Kiev':thisCity;let href=$('#upcomingEvents a[href=#'+thisCity+'Events]');href.closest('ul').find('li.active').removeClass('active').addClass('hidden');href.closest('li').removeClass('hidden');href.click()}}
$(".loc-city .active").removeClass("active");$(".cities .active").removeClass("active");$("#choose-city .active").removeClass("active");let active=$(".loc-city [data-city='"+thisCity+"']");active.parent("li").addClass("active");let text=active.text();$(".cities [data-city='"+thisCity+"']").addClass("active");$("#choose-city [data-city='"+thisCity+"']").parent("li").addClass("active");$(".loc-city").fadeOut();$(".loc-sure").fadeOut();$("#choose-city").fadeOut();if(!is_category('courses')){$('.your-city').text(text)}});var thisCity=getCookie("ClientCity");if(thisCity!=''&&navigator.cookieEnabled){let active=$(".loc-city [data-city='"+thisCity+"']");active.parent("li").addClass("active");let text=active.text();$(".cities [data-city='"+thisCity+"']").addClass("active");$("#choose-city [data-city='"+thisCity+"']").addClass("active");$("#choose-city").fadeOut();$('.your-city').text(text)}
if(!is_category('courses')){setCookie("ClientCity",thisCity,365);$.ajax({type:'POST',url:KotyrloGroupStartsAjax.ajaxurl,data:'city='+thisCity+'&action=get_phones',success:function(data){var phones=JSON.parse(data);$(".header-top .phones, .mobile-menu .phones").prepend(phones.phones.base);$(".header-top .phones > .tel, .mobile-menu .phones > .tel").prepend(phones.phones.add)}})}
$(".your-city").on("click",function(e){e.preventDefault();$(".loc-city").fadeToggle()});$(".loc-sure .loc-no").on("click",function(e){e.preventDefault();$(".loc-sure").fadeOut();$(".location .loc-city").fadeIn();$("#choose-city").fadeOut()});$(".loc-sure .loc-yes, .dismiss").on("click",function(e){e.preventDefault();$(".loc-sure").fadeOut();$(".loc-city").fadeOut();$("#choose-city").fadeOut()});$('#choose-city').on("click",function(e){if(e.target!==this){return}
$(this).fadeOut()})}(jQuery))
;